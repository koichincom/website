---
export interface Props {
    href?: string;
    target?: string;
    rel?: string;
    ariaLabel?: string;
    class?: string;
}

const { href, target, rel, ariaLabel, class: className = "" } = Astro.props;
const rowClass =
    "group w-full rounded-md hover:bg-(--color-hover) dark:hover:bg-(--color-hover-dark) last:[&>a]:after:hidden last:[&>div]:after:hidden [&:has(+li:hover)>a]:after:opacity-0 [&:has(+li:hover)>div]:after:opacity-0 [&:has(+li:focus-within)>a]:after:opacity-0 [&:has(+li:focus-within)>div]:after:opacity-0";
const baseClass =
    "relative flex flex-col w-full px-2 py-6 after:content-[''] after:absolute after:bottom-0 after:left-[var(--radius-md)] after:right-[var(--radius-md)] after:border-b after:border-(--color-divider) dark:after:border-(--color-divider-dark) hover:after:opacity-0 focus-visible:after:opacity-0";
const linkClass = [baseClass, className].filter(Boolean).join(" ");
---

<li class={rowClass}>
    {
        href ? (
            <a
                href={href}
                class={linkClass}
                target={target}
                rel={rel}
                aria-label={ariaLabel}
            >
                <slot />
            </a>
        ) : (
            <div class={linkClass}>
                <slot />
            </div>
        )
    }
</li>
