---
import BaseLayout from "../layouts/base.astro";

export interface Props {
    title?: string;
    h1?: string;
    date?: Date;
    update?: Date;
}
const { title, h1, date, update } = Astro.props;

const formatDate = (date: Date) => {
    return new Date(date).toLocaleDateString(undefined, {
        year: "numeric",
        month: "long",
        day: "numeric",
    });
};
---

<BaseLayout title={title} h1={h1} date={date} update={update}>
    {update ? (
        <div class="mb-4 text-sm text-(--color-text-third) dark:text-(--color-text-third-dark)">
            <p>Published: <time datetime={date?.toISOString()}>{date && formatDate(date)}</time>, Last updated: <time datetime={update.toISOString()}>{formatDate(update)}</time></p>
        </div>
    ) : date ? (
        <p class="mb-4 text-sm text-(--color-text-third) dark:text-(--color-text-third-dark)">
            <time datetime={date.toISOString()}>{formatDate(date)}</time>
        </p>
    ) : null}
    <slot />
    <script
        src="https://giscus.app/client.js"
        data-repo="koichincom/website"
        data-repo-id="R_kgDOMrXeww"
        data-category="Announcements"
        data-category-id="DIC_kwDOMrXew84Cw21L"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async></script>
</BaseLayout>
